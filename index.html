<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8"> <!-- Define el tipo de caracteres que se usaran en el documento html -->
	<meta name="keywords" content="lenguajes y compiladores, curso, proyecto, lenguaje de programacion, lc++">
	<!-- palabras clave para posicionamiento en buscadores -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- redimensiona la vista de la pagina web para cada tipo de dispositivo -->
	<title>Proyecto LC ++</title>
	<script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
	<link rel="stylesheet" type="text/css" href="css/reset.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">

	<script type="text/javascript">
		//arreglo de palabras reservadas
		var arrayPalabrasReservadas = ["vacio", "VY", "entero", "imprimir", "YV", "para", "mientras",
			"cadena", "sicumple", "boleano", "sino", "decimal", "verdadero",
			"falso", "retornar", "opcion", "caso", "ruptura", "invalido", "hacer"
		];
		//arreglo de simbolos especiales
		var arraySimbolosEspeciales = ["/", "*", "+", "-", ":=", "^", ":<=", ":>=", ":<", ":>", ":!=", "++", ":==", "->"];


		//arreglo de tokens de delimitadores
		//var arrayPretokensDelimitadores;

		$(document).ready(function () {
			//controles de eventos
			$('#resultado-boton').click(function () { resultado(); });
			$('#analisisLexico-boton').click(function () { analisisLexico(); });
			$('#analisisSintactico-boton').click(function () { analisisSintactico(); });
			$('#analisisSemantico-boton').click(function () { analisisSemantico(); });
			$('#tablaSimbolos-boton').click(function () { tablaSimbolos(); });
			$('#borrar-boton').click(function () { borrarCodigo(); });
			//Desarrollo de eventos
			//Analisis Lexico
			function analisisLexico() {

				var codigoArea_text = $('#codigo');
				var codigoArea = codigoArea_text.val();
				var htmlAnalisisLexico = '';

				var separador = "";
				var arrayPreToken = codigoArea.split(separador);
				var longitudArrayPreToken = arrayPreToken.length;
				var arrayPreTokensDelimitadores = [];
				var cont = 0;
				//delimitadores
				for (var i = 0; i < longitudArrayPreToken; i++) {
					if (arrayPreToken[i] == '(' || arrayPreToken[i] == ')' || arrayPreToken[i] == '{' ||
						arrayPreToken[i] == '}' || arrayPreToken[i] == ';' || arrayPreToken[i] == '[' ||
						arrayPreToken[i] == ']' || arrayPreToken[i] == ',' || arrayPreToken[i] == '.') {
						arrayPreTokensDelimitadores[cont] = arrayPreToken[i];

						cont++;
					}
				}

				var expresionRegLetras = /[A-Za-z]/;
				var expresionRegNum = /[0-9]/;
				var estado = 0;
				var j = 0;
				var n = 0;
				var cambio = true;
				var arrayPreTokensIdentificadores1 = [];
				var arrayPreTokensIdentificadores2 = [];
				var cont2 = 0;
				//identificador
				while (arrayPreToken[cont2] != null) {
				switch (estado) {
						case 0:
							if (expresionRegLetras.test(arrayPreToken[cont2]) || arrayPreToken[cont2] == '_') {
								arrayPreTokensIdentificadores1[j] = arrayPreToken[cont2];
								estado = 1;
							} else {
								estado = 0;
							}
							j++;
							break;
						case 1:
							if (expresionRegLetras.test(arrayPreToken[cont2]) || arrayPreToken[cont2] == '_' || expresionRegNum.test(arrayPreToken[cont2])) {
								arrayPreTokensIdentificadores1[j] = arrayPreToken[cont2];
								estado = 1;
							} else {
								estado = 2;
							}
							j++;
						case 2:
							for (var i = 0; i < arrayPreTokensIdentificadores1.length; i++) {
								arrayPreTokensIdentificadores2[n] = arrayPreTokensIdentificadores1[i];

							}
							n++;
							break;
					} 

					cont2++;
				}
				alert(arrayPreTokensIdentificadores1);

				htmlAnalisisLexico += '<table>';
				htmlAnalisisLexico += '<tr>'
				htmlAnalisisLexico += '<th>Tokens</th>'
				htmlAnalisisLexico += '<th>Categoría</th>'
				htmlAnalisisLexico += '</tr>'

				for (var index = 0; index < arrayPreTokensDelimitadores.length; index++) {

					htmlAnalisisLexico += '<tr>';
					htmlAnalisisLexico += '<td>' + arrayPreTokensDelimitadores[index] + '</td>';
					htmlAnalisisLexico += '<td>Delimitador</td>';
					htmlAnalisisLexico += '</tr>';

				}

				$('#analisisLexico').html(htmlAnalisisLexico);

				htmlAnalisisLexico += '</table>';

			}

			function borrarCodigo() {

				var codigoArea_text = $('#codigo');

				var codigoArea = codigoArea_text.val();

				if (codigoArea == '') {
					alert("No hay nada que borrar");
					codigoArea_text.focus();
				} else {
					codigoArea_text.val('');
					document.getElementById("codeLine").innerHTML = '';
					var pl = document.createElement('p');
					pl.innerHTML = 1;
					document.getElementById("codeLine").appendChild(pl);
				}
			}

		});
	</script>
</head>

<body>
	<header>
		<main>
			<figure>
				<img src="images/logo.jpg">
			</figure>
			<h1>Proyecto LC++</h1>
		</main>
	</header>
	<section>
		<article id="areaCodigo">
			<form id="codeform">
				<fieldset>
					<legend>Escribe tu Código aquí: </legend>
					<textarea id="codigo" placeholder="Ingrese el código..." name="comment" form="codeform"></textarea>
				</fieldset>
			</form>
			<aside id="codeLine">
				<p>1</p>
			</aside>
		</article>
		<article id="areaAnalisis">
			<article id="slide1">
				<article id="areaAnalisisLexico">
					<fieldset>
						<legend>Análisis Léxico: </legend>
						<div id="analisisLexico"></div>
					</fieldset>
				</article>
				<article id="areaAnalisisSintactico">
					<fieldset>
						<legend>Análisis Sintáctico: </legend>
						<textarea id="analisisSintactico" disabled=true></textarea>
					</fieldset>
				</article>
				<div id="botones1">
					<input type="button" id="analisisLexico-boton" value="Análisis Léxico" />
				</div>
				<div id="botones2">
					<input type="button" id="analisisSintactico-boton" value="Análisis Sintáctico" />
				</div>
			</article>
			<article id="slide2">
				<article id="areaResultados">
					<fieldset>
						<legend>Resultados: </legend>
						<textarea id="resultados" placeholder="Resultados..." name="comment" form="codeform" disabled=true></textarea>
					</fieldset>
				</article>
			</article>
			<article id="slide3">
				<article id="areaAnalisisSemantico">
					<fieldset>
						<legend>Análisis Semántico: </legend>
						<textarea id="analisisSemantico" disabled=true></textarea>
					</fieldset>
				</article>
				<article id="areaTablaSimbolos">
					<fieldset>
						<legend>Tabla de Símbolos: </legend>
						<textarea id="tablaSimbolos" disabled=true></textarea>
					</fieldset>
				</article>
				<div id="botones3">
					<input type="button" id="analisisSemantico-boton" value="Análisis Semántico" />
				</div>	
				<div id="botones4">
					<input type="button" id="tablaSimbolos-boton" value="Tabla de Símbolos" />
				</div>
			</article>
		</article>
		<!--
		<article id="areaErrores"></article>
		-->
	</section>

	
	<div id="botones5">
		<input type="button" id="resultado-boton" value="Compilar" />
		<input type="button" id="borrar-boton" value="Nuevo" />
		<input type="button" id="ayuda-boton" value="Ayuda" />
	</div>
	<section id="menuContainer">
		<div id="relativo">
			<div id="overMenu">
				<div id="menu">
					<p>Ver</p>
				</div>
			</div>
			<div class="oPmenu" id="t1"><p>Análisis Léxico<br>y Sintáctico</p></div>
			<div class="oPmenu" id="t2"><p>Mostrar Resultado</p></div>
			<div class="oPmenu" id="t3"><p>Análisis Semántico y<br>Tabla de Simbolos</p></div>
		</div>
	</section>
	<footer>
		<!-- JavaScript -->
		<script type="text/javascript" src="js/lcjs.js"></script>
	</footer>
</body>

</html>